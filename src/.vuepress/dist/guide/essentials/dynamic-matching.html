<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Correspondance dynamique des routes avec les paramètres | Vuepress Docs Boilerplate</title>
    <meta name="generator" content="VuePress 1.8.2">
    
    <meta name="description" content="">
    <meta name="theme-color" content="#3eaf7c">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    
    <link rel="preload" href="/assets/css/0.styles.e7a61a40.css" as="style"><link rel="preload" href="/assets/js/app.1e9eeef5.js" as="script"><link rel="preload" href="/assets/js/2.ca4c494e.js" as="script"><link rel="preload" href="/assets/js/21.ea337eb6.js" as="script"><link rel="prefetch" href="/assets/js/10.511a6a5d.js"><link rel="prefetch" href="/assets/js/11.f7e4b865.js"><link rel="prefetch" href="/assets/js/12.768e1784.js"><link rel="prefetch" href="/assets/js/13.0e035732.js"><link rel="prefetch" href="/assets/js/14.422259f4.js"><link rel="prefetch" href="/assets/js/15.9d5dbd3b.js"><link rel="prefetch" href="/assets/js/16.7c831878.js"><link rel="prefetch" href="/assets/js/17.9bf331d1.js"><link rel="prefetch" href="/assets/js/18.1a2529fe.js"><link rel="prefetch" href="/assets/js/19.5fe2732b.js"><link rel="prefetch" href="/assets/js/20.0ffcc546.js"><link rel="prefetch" href="/assets/js/22.65c44035.js"><link rel="prefetch" href="/assets/js/23.2ea98c70.js"><link rel="prefetch" href="/assets/js/24.d5654b10.js"><link rel="prefetch" href="/assets/js/25.92e2af2d.js"><link rel="prefetch" href="/assets/js/26.9133f23e.js"><link rel="prefetch" href="/assets/js/27.9d8b13a1.js"><link rel="prefetch" href="/assets/js/28.6754ece2.js"><link rel="prefetch" href="/assets/js/29.866a2606.js"><link rel="prefetch" href="/assets/js/3.17b065ec.js"><link rel="prefetch" href="/assets/js/30.7609fce7.js"><link rel="prefetch" href="/assets/js/31.761dd616.js"><link rel="prefetch" href="/assets/js/32.1c2747f6.js"><link rel="prefetch" href="/assets/js/33.3ad12a7e.js"><link rel="prefetch" href="/assets/js/34.5ceb7d82.js"><link rel="prefetch" href="/assets/js/4.4bb3b9f9.js"><link rel="prefetch" href="/assets/js/5.01e99829.js"><link rel="prefetch" href="/assets/js/6.d5cea1fa.js"><link rel="prefetch" href="/assets/js/7.d9bfb9f3.js"><link rel="prefetch" href="/assets/js/8.7fdcafc1.js"><link rel="prefetch" href="/assets/js/9.343cd259.js">
    <link rel="stylesheet" href="/assets/css/0.styles.e7a61a40.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Vuepress Docs Boilerplate</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/guide/" class="nav-link router-link-active">
  Guide
</a></div><div class="nav-item"><a href="/api/" class="nav-link">
  API
</a></div><div class="nav-item"><a href="/migration/" class="nav-link">
  Migration
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/guide/" class="nav-link router-link-active">
  Guide
</a></div><div class="nav-item"><a href="/api/" class="nav-link">
  API
</a></div><div class="nav-item"><a href="/migration/" class="nav-link">
  Migration
</a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/introduction.html" class="sidebar-link">Introduction</a></li><li><a href="/installation.html" class="sidebar-link">Installation</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Essentiels</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/guide/" aria-current="page" class="sidebar-link">Pour commencer</a></li><li><a href="/guide/essentials/dynamic-matching.html" aria-current="page" class="active sidebar-link">Correspondance d'itinéraire dynamique</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/guide/essentials/dynamic-matching.html#reagir-aux-changements-de-parametres" class="sidebar-link">Réagir aux changements de paramètres</a></li><li class="sidebar-sub-header"><a href="/guide/essentials/dynamic-matching.html#catch-all-404-not-found-route" class="sidebar-link">Catch all / 404 Not found Route</a></li><li class="sidebar-sub-header"><a href="/guide/essentials/dynamic-matching.html#patterns-de-correspondance-avances" class="sidebar-link">Patterns de correspondance avancés</a></li></ul></li><li><a href="/guide/essentials/route-matching-syntax.html" class="sidebar-link">Syntaxe de correspondance des routes</a></li><li><a href="/guide/essentials/nested-routes.html" class="sidebar-link">Routes imbriquées</a></li><li><a href="/guide/essentials/navigation.html" class="sidebar-link">Navigation programmatique</a></li><li><a href="/guide/essentials/named-routes.html" class="sidebar-link">Routes nommées</a></li><li><a href="/guide/essentials/named-views.html" class="sidebar-link">Vues nommées</a></li><li><a href="/guide/essentials/redirect-and-alias.html" class="sidebar-link">Redirection et alias</a></li><li><a href="/guide/essentials/passing-props.html" class="sidebar-link">Passer des props aux composants de l'itinéraire</a></li><li><a href="/guide/essentials/history-mode.html" class="sidebar-link">Différents modes d'histoire</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Avancé</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="correspondance-dynamique-des-routes-avec-les-parametres"><a href="#correspondance-dynamique-des-routes-avec-les-parametres" class="header-anchor">#</a> Correspondance dynamique des routes avec les paramètres</h1> <p>Très souvent, nous aurons besoin de faire correspondre des routes avec le modèle donné au même composant. Par exemple, nous pouvons avoir un composant <code>User</code> qui doit être rendu pour tous les utilisateurs mais avec des identifiants différents. Dans Vue Router, nous pouvons utiliser un segment dynamique dans le chemin pour réaliser cela, nous l'appelons un <em>param</em> :</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> User <span class="token operator">=</span> <span class="token punctuation">{</span>
  template<span class="token operator">:</span> <span class="token string">'&lt;div&gt;User&lt;/div&gt;'</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>

<span class="token comment">// ils sont passés à `createRouter`.</span>
<span class="token keyword">const</span> routes <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token comment">// les segments dynamiques commencent par un deux-points</span>
  <span class="token punctuation">{</span> path<span class="token operator">:</span> <span class="token string">'/users/:id'</span><span class="token punctuation">,</span> component<span class="token operator">:</span> User <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span>
</code></pre></div><p>Maintenant, des URLs comme <code>/users/johnny</code> et <code>/users/jolyne</code> mèneront toutes deux à la même route.</p> <p>Un <em>param</em> est indiqué par deux points <code>:</code>. Lorsqu'une route est trouvée, la valeur de ses <em>paramètres</em> sera exposée comme <code>this.$route.params</code> dans chaque composant. Par conséquent, nous pouvons rendre l'ID de l'utilisateur actuel en mettant à jour le modèle de <code>User</code> avec ceci :</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> User <span class="token operator">=</span> <span class="token punctuation">{</span>
  template<span class="token operator">:</span> <span class="token string">'&lt;div&gt;User {{ $route.params.id }}&lt;/div&gt;'</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Vous pouvez avoir plusieurs <em>params</em> dans la même route, et ils correspondront aux champs correspondants dans <code>$route.params</code>. Exemples :</p> <table><thead><tr><th>modèle</th> <th>chemin correspondant</th> <th>$route.params</th></tr></thead> <tbody><tr><td>/users/:username</td> <td>/users/eduardo</td> <td><code>{ username: 'eduardo' }</code></td></tr> <tr><td>/users/:username/posts/:postId</td> <td>/users/eduardo/posts/123</td> <td><code>{ username: 'eduardo', postId: '123' }</code></td></tr></tbody></table> <p>En plus de <code>$route.params</code>, l'objet <code>$route</code> expose également d'autres informations utiles telles que <code>$route.query</code> (s'il y a une requête dans l'URL), <code>$route.hash</code>, etc. Vous pouvez consulter tous les détails dans la <a href="/api/#routelocationnormalized">Référence API</a>.</p> <p>Une démonstration fonctionnelle de cet exemple peut être trouvée <a href="https://codesandbox.io/s/route-params-vue-router-examples-mlb14?from-embed&amp;initialpath=%2Fusers%2Feduardo%2Fposts%2F1" target="_blank" rel="noopener noreferrer">ici<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p> <h2 id="reagir-aux-changements-de-parametres"><a href="#reagir-aux-changements-de-parametres" class="header-anchor">#</a> Réagir aux changements de paramètres</h2> <p>Une chose à noter lors de l'utilisation de routes avec des paramètres est que lorsque l'utilisateur navigue de <code>/users/johnny</code> à <code>/users/jolyne</code>, <strong>la même instance de composant sera réutilisée</strong>. Comme les deux routes rendent le même composant, c'est plus efficace que de détruire l'ancienne instance et d'en créer une nouvelle. <strong>Cependant, cela signifie également que les hooks du cycle de vie du composant ne seront pas appelés</strong>.</p> <p>Pour réagir aux changements de paramètres dans le même composant, vous pouvez simplement surveiller n'importe quoi sur l'objet <code>$route</code>, dans ce scénario, le <code>$route.params</code> :</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> User <span class="token operator">=</span> <span class="token punctuation">{</span>
  template<span class="token operator">:</span> <span class="token string">'...'</span><span class="token punctuation">,</span>
  <span class="token function">created</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$watch</span><span class="token punctuation">(</span>
      <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$route<span class="token punctuation">.</span>params<span class="token punctuation">,</span>
      <span class="token punctuation">(</span><span class="token parameter">toParams<span class="token punctuation">,</span> previousParams</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token comment">// réagir aux changements de route...</span>

      <span class="token punctuation">}</span>
    <span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Vous pouvez aussi utiliser le [garde de navigation] <code>beforeRouteUpdate</code>(../advanced/navigation-guards.md), qui permet également d'annuler la navigation :</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> User <span class="token operator">=</span> <span class="token punctuation">{</span>
  template<span class="token operator">:</span> <span class="token string">'...'</span><span class="token punctuation">,</span>
  <span class="token keyword">async</span> <span class="token function">beforeRouteUpdate</span><span class="token punctuation">(</span><span class="token parameter">to<span class="token punctuation">,</span> <span class="token keyword">from</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// réagir aux changements de route...</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>userData <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">fetchUser</span><span class="token punctuation">(</span>to<span class="token punctuation">.</span>params<span class="token punctuation">.</span>id<span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="catch-all-404-not-found-route"><a href="#catch-all-404-not-found-route" class="header-anchor">#</a> Catch all / 404 Not found Route</h2> <p>Les paramètres réguliers ne correspondent qu'aux caractères situés entre les fragments d'url, séparés par des <code>/</code>. Si nous voulons faire correspondre <strong>tout</strong>, nous pouvons utiliser une regexp <em>param</em> personnalisée en ajoutant la regexp entre parenthèses juste après le <em>param</em> :</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> routes <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token comment">// va tout faire correspondre et le mettre sous `$route.params.pathMatch`.</span>
  <span class="token punctuation">{</span> path<span class="token operator">:</span> <span class="token string">'/:pathMatch(.*)*'</span><span class="token punctuation">,</span> name<span class="token operator">:</span> <span class="token string">'NotFound'</span><span class="token punctuation">,</span> component<span class="token operator">:</span> NotFound <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// correspondra à tout ce qui commence par `/user-` et le mettra sous `$route.params.afterUser`.</span>
  <span class="token punctuation">{</span> path<span class="token operator">:</span> <span class="token string">'/user-:afterUser(.*)'</span><span class="token punctuation">,</span> component<span class="token operator">:</span> UserGeneric <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span>
</code></pre></div><p>Dans ce scénario spécifique, nous utilisons un <a href="/guide/essentials/route-matching-syntax.html#custom-regexp-in-params">regexp personnalisé</a> entre parenthèses et marquons le paramètre <code>pathMatch</code> comme <a href="/guide/essentials/route-matching-syntax.html#optional-parameters">optional repeatable</a>. Cela nous permet de naviguer directement vers la route si nous en avons besoin en divisant le <code>path</code> en un tableau :</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">this</span><span class="token punctuation">.</span>$router<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">'NotFound'</span><span class="token punctuation">,</span>
  <span class="token comment">// conserve le chemin actuel et supprime le premier caractère pour éviter que l'URL cible ne commence par `//`.</span>
  params<span class="token operator">:</span> <span class="token punctuation">{</span> pathMatch<span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$route<span class="token punctuation">.</span>path<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">'/'</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// préserver la requête existante et le hachage s'il y en a un</span>
  query<span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$route<span class="token punctuation">.</span>query<span class="token punctuation">,</span>
  hash<span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$route<span class="token punctuation">.</span>hash<span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>Si vous utilisez <a href="/guide/essentials/history-mode.html">History mode</a>, veillez à suivre les instructions pour configurer correctement votre serveur.</p> <h2 id="patterns-de-correspondance-avances"><a href="#patterns-de-correspondance-avances" class="header-anchor">#</a> Patterns de correspondance avancés</h2> <p>Vue Router utilise sa propre syntaxe de correspondance de chemin, inspirée de celle utilisée par <code>express</code>, il supporte donc de nombreux modèles de correspondance avancés tels que les paramètres optionnels, zéro ou plus / une ou plusieurs exigences, et même des modèles regex personnalisés. Veuillez consulter la documentation <a href="/guide/essentials/route-matching-syntax.html">Advanced Matching</a> pour les explorer.</p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/guide/" class="prev router-link-active">
        Pour commencer
      </a></span> <span class="next"><a href="/guide/essentials/route-matching-syntax.html">
        Syntaxe de correspondance des routes
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.1e9eeef5.js" defer></script><script src="/assets/js/2.ca4c494e.js" defer></script><script src="/assets/js/21.ea337eb6.js" defer></script>
  </body>
</html>
