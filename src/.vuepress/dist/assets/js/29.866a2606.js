(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{411:function(s,t,e){"use strict";e.r(t);var a=e(29),n=Object(a.a)({},(function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[e("h1",{attrs:{id:"syntaxe-de-correspondance-des-routes"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#syntaxe-de-correspondance-des-routes"}},[s._v("#")]),s._v(" Syntaxe de correspondance des routes")]),s._v(" "),e("p",[s._v("La plupart des applications utilisent des routes statiques comme "),e("code",[s._v("/about")]),s._v(" et des routes dynamiques comme "),e("code",[s._v("/users/:userId")]),s._v(" comme nous venons de le voir dans "),e("RouterLink",{attrs:{to:"/guide/essentials/dynamic-matching.html"}},[s._v("Dynamic Route Matching")]),s._v(", mais Vue Router a beaucoup plus à offrir !")],1),s._v(" "),e("div",{staticClass:"custom-block tip"},[e("p",{staticClass:"custom-block-title"},[s._v("TIP")]),s._v(" "),e("p",[s._v("Pour des raisons de simplicité, tous les enregistrements d'itinéraire "),e("strong",[s._v("sont dépourvus de la propriété "),e("code",[s._v("component")])]),s._v(" pour se concentrer sur la valeur "),e("code",[s._v("path")]),s._v(".")])]),s._v(" "),e("h2",{attrs:{id:"regexp-personnalisee-dans-les-parametres"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#regexp-personnalisee-dans-les-parametres"}},[s._v("#")]),s._v(" Regexp personnalisée dans les paramètres")]),s._v(" "),e("p",[s._v("Lors de la définition d'un paramètre comme "),e("code",[s._v(":userId")]),s._v(", nous utilisons en interne la regexp suivante "),e("code",[s._v("([^/]+)")]),s._v(" (au moins un caractère qui n'est pas un slash "),e("code",[s._v("/")]),s._v(") pour extraire les paramètres des URLs. Cela fonctionne bien, sauf si vous devez différencier deux routes en fonction du contenu du paramètre. Imaginez deux routes "),e("code",[s._v("/:orderId")]),s._v(" et "),e("code",[s._v("/:productName")]),s._v(", les deux correspondraient exactement aux mêmes URLs, donc nous avons besoin d'un moyen de les différencier. Le moyen le plus simple serait d'ajouter une section statique au chemin qui les différencie :")]),s._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" routes "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n  "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// correspond à /o/3549")]),s._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" path"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v("'/o/:orderId'")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// correspond à /p/books")]),s._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" path"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v("'/p/:productName'")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])])]),e("p",[s._v("Mais dans certains scénarios, nous ne voulons pas ajouter cette section statique "),e("code",[s._v("/o")]),s._v("/"),e("code",[s._v("p")]),s._v(". Cependant, "),e("code",[s._v("orderId")]),s._v(" est toujours un nombre alors que "),e("code",[s._v("productName")]),s._v(" peut être n'importe quoi, donc nous pouvons spécifier une regexp personnalisée pour un paramètre entre parenthèses :")]),s._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" routes "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n  "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// /:orderId -> ne correspond qu'à des nombres")]),s._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" path"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v("'/:orderId(\\\\d+)'")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// /:productName -> correspond à toute autre chose")]),s._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" path"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v("'/:productName'")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])])]),e("p",[s._v("Maintenant, aller à "),e("code",[s._v("/25")]),s._v(" correspondra à "),e("code",[s._v("/:orderId")]),s._v(" tandis qu'aller à tout autre endroit correspondra à "),e("code",[s._v("/:productName")]),s._v(". L'ordre du tableau "),e("code",[s._v("routes")]),s._v(" n'a même pas d'importance !")]),s._v(" "),e("div",{staticClass:"custom-block tip"},[e("p",{staticClass:"custom-block-title"},[s._v("TIP")]),s._v(" "),e("p",[s._v("Veillez à "),e("strong",[s._v("échapper les barres obliques inverses ("),e("code",[s._v("\\")]),s._v(")")]),s._v(" comme nous l'avons fait avec "),e("code",[s._v("\\d")]),s._v(" (qui devient "),e("code",[s._v("\\\\d")]),s._v(") pour passer réellement le caractère oblique inversé dans une chaîne en JavaScript.")])]),s._v(" "),e("h2",{attrs:{id:"parametres-repetables"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#parametres-repetables"}},[s._v("#")]),s._v(" Paramètres répétables")]),s._v(" "),e("p",[s._v("Si vous devez faire correspondre des routes avec plusieurs sections comme "),e("code",[s._v("/first/second/third")]),s._v(", vous devez marquer un paramètre comme répétable avec "),e("code",[s._v("*")]),s._v(" (0 ou plus) et "),e("code",[s._v("+")]),s._v(" (1 ou plus) :")]),s._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" routes "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n  "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// /:chapitres -> correspond à /one, /one/two, /one/two/three, etc.")]),s._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" path"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v("'/:chapters+'")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// /:chapitres -> correspond à /, /one, /one/two, /one/two/three, etc.")]),s._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" path"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v("'/:chapters*'")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])])]),e("p",[s._v("Cela vous donnera un tableau de paramètres au lieu d'une chaîne et vous obligera également à passer un tableau lorsque vous utilisez des routes nommées :")]),s._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// donné { path : '/:chapters*', name : 'chapters' },")]),s._v("\nrouter"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("resolve")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" name"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v("'chapters'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" params"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" chapters"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("href\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// produit /")]),s._v("\nrouter"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("resolve")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" name"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v("'chapters'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" params"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" chapters"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),e("span",{pre:!0,attrs:{class:"token string"}},[s._v("'a'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v("'b'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("href\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// produit /a/b")]),s._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// donné { path: '/:chapters+', name: 'chapters' },")]),s._v("\nrouter"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("resolve")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" name"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v("'chapters'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" params"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" chapters"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("href\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// lance une erreur parce que `chapters` est vide")]),s._v("\n")])])]),e("p",[s._v("Elles peuvent également être combinées avec des Regexp personnalisées en les ajoutant "),e("strong",[s._v("après les parenthèses fermantes")]),s._v(" :")]),s._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" routes "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n  "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// ne correspond qu'aux numéros")]),s._v("\n  "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//  correspond à /1, /1/2, etc.")]),s._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" path"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v("'/:chapters(\\\\d+)+'")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// correspond à /, /1, /1/2, etc")]),s._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" path"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v("'/:chapters(\\\\d+)*'")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])])]),e("h2",{attrs:{id:"parametres-optionnels"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#parametres-optionnels"}},[s._v("#")]),s._v(" Paramètres optionnels")]),s._v(" "),e("p",[s._v("Vous pouvez également marquer un paramètre comme facultatif en utilisant le modificateur "),e("code",[s._v("?")]),s._v(" (0 ou 1) :")]),s._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" routes "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n  "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// correspondra à /users et /users/posva")]),s._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" path"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v("'/users/:userId?'")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// correspondra à /users et /users/42")]),s._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" path"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v("'/users/:userId(\\\\d+)?'")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])])]),e("p",[s._v("Notez que "),e("code",[s._v("*")]),s._v(" marque techniquement aussi un paramètre comme optionnel mais les paramètres "),e("code",[s._v("?")]),s._v(" ne peuvent pas être répétés.")]),s._v(" "),e("h2",{attrs:{id:"debogage"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#debogage"}},[s._v("#")]),s._v(" Débogage")]),s._v(" "),e("p",[s._v("Si vous avez besoin de voir comment vos routes sont transformées en Regexp pour comprendre pourquoi une route ne correspond pas ou, pour rapporter un bug, vous pouvez utiliser le "),e("a",{attrs:{href:"https://paths.esm.dev/?p=AAMeJSyAwR4UbFDAFxAcAGAIJXMAAA..#",target:"_blank",rel:"noopener noreferrer"}},[s._v("outil de classement des chemins"),e("OutboundLink")],1),s._v(". Il prend en charge le partage de vos routes via l'URL.")])])}),[],!1,null,null,null);t.default=n.exports}}]);